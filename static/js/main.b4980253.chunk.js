(this.webpackJsonpsonglyzer=this.webpackJsonpsonglyzer||[]).push([[0],{215:function(e,t,n){},217:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(1),s=n(16),c=n.n(s),i=(n(86),n(3)),o=(n(91),n(92),n(93),n(72)),l=n.n(o),u=n(32),d=n.n(u),h="#FBFAF5",f="#232B2B",b="#1DB954",p="EB5757",m={names:{aqua:"#00ffff",azure:"#f0ffff",beige:"#f5f5dc",black:"#000000",blue:"#0000ff",brown:"#a52a2a",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkviolet:"#9400d3",fuchsia:"#ff00ff",gold:"#ffd700",green:"#008000",indigo:"#4b0082",khaki:"#f0e68c",lightblue:"#add8e6",lightcyan:"#e0ffff",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightyellow:"#ffffe0",lime:"#00ff00",magenta:"#ff00ff",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#ffa500",pink:"#ffc0cb",purple:"#800080",violet:"#800080",red:"#ff0000",silver:"#c0c0c0",white:"#ffffff",yellow:"#ffff00"},random:function(){var e,t=0;for(var n in this.names)Math.random()<1/++t&&(e=n);return e}},j=["acousticness","song_title","album_title","album_cover","album_type","artist_name","artist_image","lyrics","danceability","track_number","duration","energy","explicit","instrumentalness","key","liveness","loudness","popularity","speechiness","tempo","release_date","happiness","sadness"],y=j.map((function(e){return{name:e,disabled:!1,checked:!1}})),g=[{name:"plain",features:j,disabled:!1,checked:!1},{name:"bar",features:["acousticness","danceability","track_number","duration","energy","instrumentalness","liveness","loudness","popularity","speechiness","tempo","happiness","sadness"],disabled:!1,checked:!1},{name:"radar",features:["acousticness","danceability","track_number","duration","energy","instrumentalness","liveness","loudness","popularity","speechiness","tempo","happiness","sadness"],disabled:!1,checked:!1},{name:"pie",features:["acousticness","danceability","track_number","duration","energy","instrumentalness","liveness","loudness","popularity","speechiness","tempo","happiness","sadness"],disabled:!1,checked:!1},{name:"doughnut",features:["acousticness","danceability","track_number","duration","energy","instrumentalness","liveness","loudness","popularity","speechiness","tempo","happiness","sadness"],disabled:!1,checked:!1}],v=["C","C\u266f/D\u266d","D","D\u266f/E\u266d","E","F","F\u266f/G\u266d","G","G\u266f/ A\u266d","A","A\u266f/B\u266d","B"],O=["","yeah","able","about","above","abroad","according","accordingly","across","actually","adj","after","afterwards","again","against","ago","ahead","ain't","all","allow","allows","almost","alone","along","alongside","already","also","although","always","am","amid","amidst","among","amongst","an","and","another","any","anybody","anyhow","anyone","anything","anyway","anyways","anywhere","apart","appear","appreciate","appropriate","are","aren't","around","as","a's","aside","ask","asking","associated","at","available","away","awfully","back","backward","backwards","be","became","because","become","becomes","becoming","been","before","beforehand","begin","behind","being","believe","below","beside","besides","best","better","between","beyond","both","brief","but","by","came","can","cannot","cant","can't","caption","cause","causes","certain","certainly","changes","clearly","c'mon","co","co.","com","come","comes","concerning","consequently","consider","considering","contain","containing","contains","corresponding","could","couldn't","course","c's","currently","dare","daren't","definitely","described","despite","did","didn't","different","directly","do","does","doesn't","doing","done","don't","down","downwards","during","each","edu","eg","eight","eighty","either","else","elsewhere","end","ending","enough","entirely","especially","et","etc","even","ever","evermore","every","everybody","everyone","everything","everywhere","ex","exactly","example","except","fairly","far","farther","few","fewer","fifth","first","five","followed","following","follows","for","forever","former","formerly","forth","forward","found","four","from","further","furthermore","get","gets","getting","given","gives","go","goes","going","gone","got","gotten","greetings","had","hadn't","half","happens","hardly","has","hasn't","have","haven't","having","he","he'd","he'll","hello","help","hence","her","here","hereafter","hereby","herein","here's","hereupon","hers","herself","he's","hi","him","himself","his","hither","hopefully","how","howbeit","however","hundred","i'd","ie","if","ignored","i'll","i'm","immediate","in","inasmuch","inc","inc.","indeed","indicate","indicated","indicates","inner","inside","insofar","instead","into","inward","is","isn't","it","it'd","it'll","its","it's","itself","i've","just","k","keep","keeps","kept","know","known","knows","last","lately","later","latter","latterly","least","less","lest","let","let's","like","liked","likely","likewise","little","look","looking","looks","low","lower","ltd","made","mainly","make","makes","many","may","maybe","mayn't","me","mean","meantime","meanwhile","merely","might","mightn't","mine","minus","miss","more","moreover","most","mostly","mr","mrs","much","must","mustn't","my","myself","name","namely","nd","near","nearly","necessary","need","needn't","needs","neither","never","neverf","neverless","nevertheless","new","next","nine","ninety","no","nobody","non","none","nonetheless","noone","no-one","nor","normally","not","nothing","notwithstanding","novel","now","nowhere","obviously","of","off","often","oh","ok","okay","old","on","once","one","ones","one's","only","onto","opposite","or","other","others","otherwise","ought","oughtn't","our","ours","ourselves","out","outside","over","overall","own","particular","particularly","past","per","perhaps","placed","please","plus","possible","presumably","probably","provided","provides","que","quite","qv","rather","rd","re","really","reasonably","recent","recently","regarding","regardless","regards","relatively","respectively","right","round","said","same","saw","say","saying","says","second","secondly","see","seeing","seem","seemed","seeming","seems","seen","self","selves","sensible","sent","serious","seriously","seven","several","shall","shan't","she","she'd","she'll","she's","should","shouldn't","since","six","so","some","somebody","someday","somehow","someone","something","sometime","sometimes","somewhat","somewhere","soon","sorry","specified","specify","specifying","still","sub","such","sup","sure","take","taken","taking","tell","tends","th","than","thank","thanks","thanx","that","that'll","thats","that's","that've","the","their","theirs","them","themselves","then","thence","there","thereafter","thereby","there'd","therefore","therein","there'll","there're","theres","there's","thereupon","there've","these","they","they'd","they'll","they're","they've","thing","things","think","third","thirty","this","thorough","thoroughly","those","though","three","through","throughout","thru","thus","till","to","together","too","took","toward","towards","tried","tries","truly","try","trying","t's","twice","two","un","under","underneath","undoing","unfortunately","unless","unlike","unlikely","until","unto","up","upon","upwards","us","use","used","useful","uses","using","usually","v","value","various","versus","very","via","viz","vs","want","wants","was","wasn't","way","we","we'd","welcome","well","we'll","went","were","we're","weren't","we've","what","whatever","what'll","what's","what've","when","whence","whenever","where","whereafter","whereas","whereby","wherein","where's","whereupon","wherever","whether","which","whichever","while","whilst","whither","who","who'd","whoever","whole","who'll","whom","whomever","who's","whose","why","will","willing","wish","with","within","without","wonder","won't","would","wouldn't","yes","yet","you","you'd","you'll","your","you're","yours","yourself","yourselves","you've","zero","a","how's","i","when's","why's","b","c","d","e","f","g","h","j","l","m","n","o","p","q","r","s","t","u","uucp","w","x","y","z","I","www","amoungst","amount","bill","bottom","call","computer","con","couldnt","cry","de","describe","detail","due","eleven","empty","fifteen","fify","fill","find","fire","forty","front","full","give","hasnt","herse\xe2\u20ac\x9d","himse\xe2\u20ac\x9d","interest","itse\xe2\u20ac\x9d","mill","move","myse\xe2\u20ac\x9d","part","put","show","side","sincere","sixty","system","ten","thick","thin","top","twelve","twenty","abst","accordance","act","added","adopted","affected","affecting","affects","ah","announce","anymore","apparently","approximately","aren","arent","arise","auth","beginning","beginnings","begins","biol","briefly","ca","date","ed","effect","et-al","ff","fix","gave","giving","hed","heres","hes","hid","home","id","im","immediately","importance","important","index","information","invention","itd","keys","kg","km","largely","lets","line","'ll","means","mg","million","ml","mug","na","nay","necessarily","nos","noted","obtain","obtained","omitted","ord","owing","page","pages","poorly","possibly","potentially","pp","predominantly","present","previously","primarily","promptly","proud","quickly","ran","readily","ref","refs","related","research","resulted","resulting","results","run","sec","section","shed","shes","showed","shown","showns","shows","significant","significantly","similar","similarly","slightly","somethan","specifically","state","states","stop","strongly","substantially","successfully","sufficiently","suggest","thered","thereof","therere","thereto","theyd","theyre","thou","thoughh","thousand","throug","til","tip","ts","ups","usefully","usefulness","'ve","vol","vols","wed","whats","wheres","whim","whod","whos","widely","words","world","youd","youre"],x={musicNoteIcon:{fontSize:"8vh",color:f},addIcon:{fontSize:"3vh",marginLeft:"-3vh",marginRight:"1vh",color:f}},w=function(){var e=Object(i.b)();return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"add-song-button",onClick:function(){e({type:"OPEN_MODAL",payload:{modalType:"song"}})},children:[Object(a.jsx)(l.a,{style:x.musicNoteIcon}),Object(a.jsx)(d.a,{style:x.addIcon})]})})},k=(n(95),n(73)),_=n.n(k),S={removeSongButton:{color:"#eb5757",fontSize:"3vh"}},C=function(e){var t=e.song,n=Object(i.c)((function(e){return e.currentSong})),r=Object(i.c)((function(e){return e.songIdToDashboard})),s=Object(i.c)((function(e){return e.songList})),c=Object(i.c)((function(e){return e.dashboardState})).merge,o=Object(i.b)(),l=t.id,u=t.name,d=(t.artists,t.color),h=t.album,f=n.data.id,b=c||f===l?"0px 0px 15px 0 ".concat(d):"none";return Object(a.jsxs)("div",{className:"song-button",children:[Object(a.jsx)("div",{className:"remove-song-button",children:Object(a.jsx)(_.a,{type:"submit",onClick:function(){o({type:"REMOVE_FROM_SONG_LIST",payload:{id:t.id}}),o({type:"REMOVE_FROM_MAP",payload:{id:t.id}}),c||o({type:"CHANGE_CURRENT_SONG",payload:{dashboardData:r[s[s.length-1].id]||{data:{},widgets:[]}}})},style:S.removeSongButton})}),Object(a.jsx)("div",{className:"song-button-disc",onClick:function(){c||o({type:"CHANGE_CURRENT_SONG",payload:{dashboardData:r[l]}})},style:{boxShadow:b},children:Object(a.jsx)("img",{style:{height:"3vw",width:"3vw",borderRadius:"50%",border:"2px solid #000000"},src:"".concat(h.images[0].url),alt:"".concat(u)})})]})},N=function(){var e=Object(i.c)((function(e){return e.songList}));return Object(a.jsxs)("aside",{children:[Object(a.jsx)("header",{children:Object(a.jsx)("h1",{children:"Songlyzer"})}),Object(a.jsxs)("div",{className:"song-list",children:[e.length>0?e.map((function(e){return Object(a.jsx)(C,{song:e},e.id)})):null,Object(a.jsx)(w,{})]})]})},A={addIcon:{fontSize:"10vh",color:h}},D=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.songList}));return Object(a.jsx)("div",{className:"add-widget-button",onClick:function(){t.length<1?alert("No songs selected"):e({type:"OPEN_MODAL",payload:{modalType:"widget"}})},children:Object(a.jsx)(d.a,{style:A.addIcon})})},T=(n(46),function(e){var t=e.onText,n=e.offText,r=e.handleSwitch;return Object(a.jsxs)("label",{className:"switch",children:[Object(a.jsx)("input",{onClick:r,type:"checkbox",id:"togBtn"}),Object(a.jsxs)("div",{className:"slider round",children:[Object(a.jsx)("span",{className:"on",children:Object(a.jsx)("b",{children:t})}),Object(a.jsx)("span",{className:"off",children:Object(a.jsx)("b",{children:n})})]})]})}),M=function(e){var t=e.text,n=e.className,r=e.handleOnClick;return Object(a.jsxs)("label",{className:"button",children:[Object(a.jsx)("input",{onClick:r,type:"checkbox"}),Object(a.jsx)("div",{className:"container round ".concat(n),children:Object(a.jsx)("span",{className:"text ",children:Object(a.jsx)("b",{children:t})})})]})},L=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.currentSong})),n=Object(i.c)((function(e){return e.songIdToDashboard})).mergedDashboard;return Object(a.jsxs)("div",{className:"buttons-container",children:[Object(a.jsx)(T,{onText:"Merge",handleSwitch:function(){console.log("Merging Data..."),e({type:"TOGGLE_MERGE"}),e({type:"CHANGE_CURRENT_SONG",payload:{id:"mergedDashboard",dashboardData:n}})},offText:"Single"}),Object(a.jsx)(M,{text:"Autofill",handleOnClick:function(){console.log("Auto filling widgets.."),t.widgets.length<1||e({type:"AUTO_FILL"})},className:"autofill-button"}),Object(a.jsx)(M,{text:"Clear",handleOnClick:function(){console.log("Clearing widgets..."),t.widgets.length<1||(e({type:"ADD_TO_MAP",payload:{id:t.id,dashboardData:{data:t.data,widgets:[]}}}),e({type:"CLEAR"}))},className:"clear-button"})]})},E=function(){var e=Object(i.c)((function(e){return e.dashboardState})).merge,t=Object(i.c)((function(e){return e.currentSong})),n=t.data,r=t.widgets,s=n.name,c=n.color,o=n.artists?n.artists[0].name:"";return Object(a.jsxs)("main",{children:[Object(a.jsx)(L,{}),e?null:Object(a.jsxs)("p",{style:{fontSize:"20px",color:c},children:[Object(a.jsx)("b",{children:s})," ",o]}),Object(a.jsxs)("div",{className:"widgets-container",children:[r.length>0?r:null,Object(a.jsx)(D,{})]})]})},R=n(10),B=n(5),G=n(4),z=n.n(G),F=n(18),I=n(7),P=n(11),U=n(74),q=function(){var e="",t=[],n=function(){var e=Object(I.a)(z.a.mark((function e(){var t,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://accounts.spotify.com/api/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:"Basic "+btoa("69f492dbd0f94e869b2549d00d94542c:3254eaf78485454dabe2523628f3ff9d")},body:"grant_type=client_credentials"});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n.access_token);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=Object(I.a)(z.a.mark((function e(t,n){var a,r,s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t&&" "!==t){e.next=2;break}return e.abrupt("return",[]);case 2:return 15,"track",a=[],t.split("").forEach((function(e){" "===e&&(e="%20"),a.push(e)})),e.next=8,fetch("https://api.spotify.com/v1/search?q=".concat(a.join(""),"&type=").concat("track","&limit=").concat(15),{method:"GET",headers:{Authorization:"Bearer "+n}});case 8:return r=e.sent,e.next=11,r.json();case 11:return s=e.sent,e.abrupt("return",s.tracks.items);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r=function(){var e=Object(I.a)(z.a.mark((function e(t,n){var a,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.spotify.com/v1/artists/".concat(t),{method:"GET",headers:{Authorization:"Bearer "+n}});case 2:return a=e.sent,e.next=5,a.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s=function(){var e=Object(I.a)(z.a.mark((function e(t,n){var a,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.spotify.com/v1/audio-features/".concat(t),{method:"GET",headers:{Authorization:"Bearer "+n}});case 2:return a=e.sent,e.next=5,a.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),c=function(){var e=Object(I.a)(z.a.mark((function e(t,n){var a,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 50,e.next=3,fetch("\thttps://api.spotify.com/v1/albums/".concat(t,"/tracks?limit=").concat(50),{method:"GET",headers:{Authorization:"Bearer "+n}});case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return{getToken:function(){return n()},storeToken:function(t){!function(t){e=t}(t)},getStoredToken:function(){return e},getAudioFeatures:function(e,t){return s(e,t)},searchMusic:function(e,t){return a(e,t)},storeSearchList:function(e){!function(e){t=e}(e)},getSearchList:function(e){return t},getArtist:function(e,t){return r(e,t)},getAlbumTracks:function(e,t){return c(e,t)}}}(),H=function(e){var t=e.handleSearchChange,n=e.handleSearchSubmit;return Object(a.jsxs)("div",{className:"search-bar",children:[Object(a.jsx)("input",{id:"search-music",name:"search-input",className:"form-control form-control-dark w-100",type:"text",placeholder:"Search Song","aria-label":"Search",onChange:t}),Object(a.jsx)("button",{className:"search-button",type:"submit",onClick:n,children:"Search"})]})},W=n(75),V=n.n(W),J=(n(97),{fontSize:"3vh",color:b}),Z=function(e){var t=e.track,n=e.trackSelectButton,r=e.showAddButton;return Object(a.jsxs)("li",{className:"search-result",children:[t.name,Object(a.jsx)("b",{children:t.artists[0].name}),r?Object(a.jsx)(V.a,{className:"add-track-button",style:J,onClick:function(){return n(t)}}):null]})},Y=n(76),K=n.n(Y),Q={fontSize:"3vh",color:p},X=function(e){var t=e.track,n=e.trackRemoveButton;return Object(a.jsxs)("li",{className:"selected-track",children:[t.name,Object(a.jsx)("b",{children:t.artists[0].name}),Object(a.jsx)(K.a,{className:"remove-track-button",style:Q,onClick:function(){return n(t)}})]})},$=function(e,t){var n={song_title:e.name,album_title:e.album.name,album_cover:e.album.images[0].url,album_type:ne(e.album.album_type),artist_name:e.artists[0].name,release_date:new Date(e.album.release_date).toDateString(),sadness:Math.round(100*(1-e.valence)),happiness:Math.round(100*e.valence),key:"".concat(ee("key",e.key)," ").concat(ee("mode",e.mode)),explicit:ee("explicit",e.explicit),tempo:Math.round(e.tempo),acousticness:Math.round(100*e.acousticness),energy:Math.round(100*e.energy),speechiness:Math.round(100*e.speechiness),instrumentalness:Math.round(100*e.instrumentalness),liveness:Math.round(100*e.liveness),danceability:Math.round(100*e.danceability),loudness:Math.round(e.loudness),duration:e.duration_ms};return t in n?n[t]:e[t]},ee=function(e,t){switch(e){case"explicit":return t?"Yes":"No";case"feature":return"tempo"===t||"loudness"===t?1:100;case"mode":return t?"Major":"Minor";default:return v[t]}},te=function(e){var t=(e=(e-e%1e3)/1e3)%60;return e=(e-t)/60,t<10&&(t="0"+t),e%60+":"+t},ne=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};!function(){var e=function(e){var t,n=O,a=[],r=new Set,s=Object(B.a)(e.split("\n"));try{for(s.s();!(t=s.n()).done;){var c=t.value;if("["!==c[0]){var i,o=c.split(" "),l=Object(B.a)(o);try{for(l.s();!(i=l.n()).done;){var u=i.value.toLowerCase().replace(/[^A-Za-z0-9_'-]/g,"");n.includes(u)||(a.push(u),r.add(u))}}catch(d){l.e(d)}finally{l.f()}}}}catch(d){s.e(d)}finally{s.f()}return function(e,t){var n,a=[],r=Object(B.a)(t);try{for(r.s();!(n=r.n()).done;){var s,c=n.value,i=0,o=Object(B.a)(e);try{for(o.s();!(s=o.n()).done;){s.value===c&&i++}}catch(d){o.e(d)}finally{o.f()}a.push({word:c,count:i})}}catch(d){r.e(d)}finally{r.f()}return a.sort((function(e,t){return e.count-t.count})).reverse().slice(0,10)}(a,r)}}();n(98);var ae=function(){var e=Object(r.useState)(""),t=Object(P.a)(e,2),n=t[0],s=t[1],c=Object(r.useState)([]),o=Object(P.a)(c,2),l=o[0],u=o[1],d=Object(r.useState)([]),h=Object(P.a)(d,2),f=h[0],b=h[1],p=Object(r.useState)(""),j=Object(P.a)(p,2),y=(j[0],j[1],Object(i.c)((function(e){return e.songList}))),g=Object(i.c)((function(e){return e.dashboardState})).merge,v=y.map((function(e){return e.id})),O=Object(i.b)(),x=function(){var e=Object(I.a)(z.a.mark((function e(){var t,n,a,r,s,c,i,o,l,u,d,h,b;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=!0,a=!1,e.prev=3,s=Object(U.a)(f);case 5:return e.next=7,s.next();case 7:return c=e.sent,n=c.done,e.next=11,c.value;case 11:if(i=e.sent,n){e.next=42;break}return o=i,e.next=16,q.getToken();case 16:return l=e.sent,e.t0=q,e.t1=o.artists[0].id,e.next=21,l;case 21:return e.t2=e.sent,e.next=24,e.t0.getArtist.call(e.t0,e.t1,e.t2);case 24:return u=e.sent,d=m.random(),e.next=28,u.images[0].url;case 28:return h=e.sent,e.t3=q,e.t4=o.id,e.next=33,l;case 33:return e.t5=e.sent,e.next=36,e.t3.getAudioFeatures.call(e.t3,e.t4,e.t5);case 36:return b=e.sent,e.next=39,t.push(Object(F.a)(Object(F.a)(Object(F.a)({},o),b),{},{artist_image:h,color:d}));case 39:n=!0,e.next=5;break;case 42:e.next=48;break;case 44:e.prev=44,e.t6=e.catch(3),a=!0,r=e.t6;case 48:if(e.prev=48,e.prev=49,n||null==s.return){e.next=53;break}return e.next=53,s.return();case 53:if(e.prev=53,!a){e.next=56;break}throw r;case 56:return e.finish(53);case 57:return e.finish(48);case 58:return e.next=60,t;case 60:return e.abrupt("return",e.sent);case 61:case"end":return e.stop()}}),e,null,[[3,44,48,58],[49,,53,57]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(I.a)(z.a.mark((function e(t){var n,a,r,s,c,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,x();case 3:n=e.sent,a=0,r=Object(B.a)(n);try{for(r.s();!(s=r.n()).done;)c=s.value,i={dashboardData:{data:c,widgets:[]},id:c.id},0!==a||g||O({type:"CHANGE_CURRENT_SONG",payload:{dashboardData:i.dashboardData}}),O({type:"ADD_TO_MAP",payload:i}),a+=1}catch(o){r.e(o)}finally{r.f()}O({type:"ADD_TO_SONG_LIST",payload:{newSongs:Object(R.a)(n)}}),O({type:"CLOSE_MODAL",payload:{showModal:!1}});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(I.a)(z.a.mark((function e(t){var a,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,q.getToken();case 3:return a=e.sent,e.t0=q,e.t1=n,e.next=8,a;case 8:return e.t2=e.sent,e.next=11,e.t0.searchMusic.call(e.t0,e.t1,e.t2);case 11:r=e.sent,u(r);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(e){var t=f.filter((function(t){return t.id!==e.id}));b(t);var n=l;n.push(e),u(n)},S=function(e){var t=f;t.push(e);var n=l.filter((function(t){return t.id!==e.id}));u(n),b(t)};return Object(a.jsx)("div",{children:Object(a.jsxs)("form",{children:[Object(a.jsx)(H,{handleSearchChange:function(e){s(e.target.value)},handleSearchSubmit:k}),Object(a.jsx)("ul",{children:f.map((function(e){return Object(a.jsx)(X,{track:e,trackRemoveButton:_},e.id)}))}),Object(a.jsx)("ul",{children:l.map((function(e){var t=!v.includes(e.id);return Object(a.jsx)(Z,{track:e,trackSelectButton:S,showAddButton:t},e.id)}))}),Object(a.jsx)("button",{type:"submit",id:"add-selected-tracks",className:"add-selected-tracks",onClick:w,children:"Add Songs"})]})})},re=function(e){var t=e.feature,n=e.checked,r=e.isChecked,s=e.isDisabled,c=t.split("_").map((function(e){return e[0].toUpperCase()+e.substring(1)})).join(" ");return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("input",{onClick:r,type:"checkbox",id:t,value:t,disabled:s,defaultChecked:n}),Object(a.jsx)("label",{htmlFor:t,children:c})]})},se=function(e){var t=e.visuals,n=e.isChecked;return Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:Object(a.jsx)("b",{children:"Widget Options"})}),Object(a.jsx)("ul",{children:t.map((function(e){var t=e.name,r=e.disabled,s=e.checked;return Object(a.jsx)(re,{feature:t,isDisabled:r,isChecked:n,checked:s},t)}))})]})},ce=function(e){var t=e.features,n=e.isChecked,r=["song_title","album_title","artist_name","album_cover","artist_image"],s=["album_type","track_number","release_date","key","duration","explicit","lyrics"],c=["acousticness","danceability","energy","happiness","liveness","loudness","popularity","sadness","speechiness","tempo"];return Object(a.jsxs)("div",{children:["Feature Options",Object(a.jsx)("p",{children:Object(a.jsx)("b",{children:"Basic"})}),Object(a.jsx)("ul",{children:t.map((function(e){var t=e.name,s=e.disabled,c=e.checked;return r.includes(t)?Object(a.jsx)(re,{feature:t,isDisabled:s,isChecked:n,checked:c},t):null}))}),Object(a.jsx)("p",{children:Object(a.jsx)("b",{children:"Details"})}),Object(a.jsx)("ul",{children:t.map((function(e){var t=e.name,r=e.disabled,c=e.checked;return s.includes(t)?Object(a.jsx)(re,{feature:t,isDisabled:r,isChecked:n,checked:c},t):null}))}),Object(a.jsx)("p",{children:Object(a.jsx)("b",{children:"Audio Features"})}),Object(a.jsx)("ul",{children:t.map((function(e){var t=e.name,r=e.disabled,s=e.checked;return c.includes(t)?Object(a.jsx)(re,{feature:t,isDisabled:r,isChecked:n,checked:s},t):null}))})]})},ie=n(77),oe=function(e){var t=e.features,n=Object(i.c)((function(e){return e.dashboardState})).merge,r=Object(i.c)((function(e){return e.songList})),s=Object(i.c)((function(e){return e.currentSong})).data;console.log("Creating Bar...");var c=n?{labels:r.map((function(e){return e.name})),datasets:[{label:ne(t[0]),backgroundColor:r.map((function(e){return e.color})),data:r.map((function(e){return $(e,t[0])}))}]}:{labels:t.length>1?t.map((function(e){return e})):[""],datasets:[{label:ne(t[0]),backgroundColor:s.color,data:t.length>1?t.map((function(e){return s[e]})):[s[t[0]]]}]},o={title:{display:!0,fontSize:20,color:f},legend:{display:!1},responsive:!0,maintainAspectRatio:!1,layout:{padding:{left:0,right:0,top:0,bottom:0}},scales:{xAxes:[{gridLines:{zeroLineColor:f,drawBorder:!1}}],yAxes:[{ticks:{beginAtZero:!0,maxTicksLimit:2,fontColor:f},gridLines:{zeroLineColor:f,drawBorder:!1}}]}};return Object(a.jsx)(ie.Bar,{data:c,options:o})},le=function(e){var t=e.features,n=Object(i.c)((function(e){return e.currentSong})).data,r=Object(i.c)((function(e){return e.songList})),s=Object(i.c)((function(e){return e.dashboardState})).merge,c=r.length,o=t.map((function(e){var t="";e.split("_").map((function(e){return ne(e)})).join(" ");return t=$(n,e),"duration"===e&&(t=te(t)),"artist_image"===e||"album_cover"===e?Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:"".concat(t),alt:"".concat(n.name," Pic"),style:{height:"100px",width:"100px",border:"3px solid ".concat(n.color),borderRadius:"25%"}})},e):Object(a.jsx)("div",{children:Object(a.jsx)("p",{style:{color:n.color},children:Object(a.jsx)("b",{children:t})})},e)})),l=Object(a.jsx)("div",{style:{display:"flex"},children:r.map((function(e){return Object(a.jsx)("div",{style:{display:"flex",flexDirection:"column",margin:"5px"},children:t.map((function(t){var n="";t.split("_").map((function(e){return ne(e)})).join(" ");return n=$(e,t),"duration"===t&&(n=te(n)),"artist_image"===t||"album_cover"===t?Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:"".concat(n),alt:"".concat(e.name," Pic"),style:{height:"100px",width:"100px",border:"3px solid ".concat(e.color),borderRadius:"25%"}})},"".concat(e.name,"-").concat(t)):Object(a.jsx)("div",{children:Object(a.jsx)("p",{style:{color:e.color},children:Object(a.jsx)("b",{children:n})})},"".concat(e.name,"-").concat(t))}))})}))});return Object(a.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-around",flexWrap:"wrap",width:"100%"},children:s&&c>1?l:o})},ue=function(e){var t,n=e.featuresSelected,r=e.visualsSelected,s="",c=n.length;switch(r){case"bar":t=Object(a.jsx)(oe,{features:n}),s=c>1?"Audio Features":ne(n[0]);break;default:s=c>1?"Details":ne(n[0]),t=Object(a.jsx)(le,{features:n})}return s=s.split("_").map((function(e){return ne(e)})).join(" "),Object(a.jsxs)("div",{className:"widget",children:[Object(a.jsx)("h3",{style:{margin:0,color:f},children:s}),Object(a.jsx)("hr",{style:{width:"100%"}}),t]})},de=Object(R.a)(y),he=Object(R.a)(g),fe=function(){var e=Object(i.c)((function(e){return e.currentSong})),t=(Object(i.c)((function(e){return e.songList})),Object(i.c)((function(e){return e.dashboard})),Object(i.b)()),n=Object(r.useState)([]),s=Object(P.a)(n,2),c=s[0],o=s[1],l=Object(r.useState)(""),u=Object(P.a)(l,2),d=u[0],h=u[1],f=Object(r.useState)(de),b=Object(P.a)(f,2),p=b[0],m=b[1],j=Object(r.useState)(he),y=Object(P.a)(j,2),g=y[0],v=y[1],O=function(e){var t=e.target.value,n=e.target.checked,a=p.map((function(e){return e.name})).includes(t)?"feature":"visual";if(n)if("visual"===a){var r,s=[],i=Object(B.a)(g);try{for(i.s();!(r=i.n()).done;){var l=r.value;l.name===t&&(s=l.features)}}catch(J){i.e(J)}finally{i.f()}if(!c||!d&&c.every((function(e){return s.includes(e)}))){var u,f=[],b=Object(B.a)(g);try{for(b.s();!(u=b.n()).done;){var j=u.value;j.name!==t&&(j.disabled=!0),f.push(j)}}catch(J){b.e(J)}finally{b.f()}v(f),h(t);var y,O=[],x=Object(B.a)(p);try{for(x.s();!(y=x.n()).done;){var w=y.value;w.disabled=!s.includes(w.name),O.push(w)}}catch(J){x.e(J)}finally{x.f()}m(O)}}else{var k,_=[],S=Object(B.a)(g);try{for(S.s();!(k=S.n()).done;){var C=k.value;C.name===d&&(_=C.features)}}catch(J){S.e(J)}finally{S.f()}if(!d||d&&_.includes(t)){var N=function(e){var t=c;return t.push(e),t}(t);o(N);var A,D=[],T=Object(B.a)(g);try{var M=function(){var e=A.value,t=e.features;e.disabled=!N.every((function(e){return t.includes(e)})),D.push(e)};for(T.s();!(A=T.n()).done;)M()}catch(J){T.e(J)}finally{T.f()}v(D)}}else if("visual"===a){h("");var L,E=[],R=Object(B.a)(g);try{for(R.s();!(L=R.n()).done;){var G=L.value;G.disabled=!1,E.push(G)}}catch(J){R.e(J)}finally{R.f()}v(E);var z,F=[],I=Object(B.a)(p);try{for(I.s();!(z=I.n()).done;){var P=z.value;P.disabled=!1,F.push(P)}}catch(J){I.e(J)}finally{I.f()}m(F)}else{var U=function(e){return c.filter((function(t){return t!==e}))}(t);o(U);var q,H=[],W=Object(B.a)(g);try{var V=function(){var e=q.value;e.disabled=!U.every((function(t){return e.features.includes(t)})),H.push(e)};for(W.s();!(q=W.n()).done;)V()}catch(J){W.e(J)}finally{W.f()}v(H)}};return Object(a.jsxs)("form",{children:[Object(a.jsx)(ce,{isChecked:O,features:p}),Object(a.jsx)(se,{isChecked:O,visuals:g}),Object(a.jsx)("button",{type:"submit",onClick:function(n){if(n.preventDefault(),d)if(c.length<1)alert("Select a Feature");else{var r=e.widgets.length,s=Object(a.jsx)(ue,{featuresSelected:c,visualsSelected:d},"widget".concat(r+1)),i={data:e.data,widgets:[].concat(Object(R.a)(e.widgets),[s])};t({type:"CHANGE_CURRENT_SONG",payload:{dashboardData:i}}),t({type:"ADD_TO_MAP",payload:{id:e.data.id,dashboardData:i}}),t({type:"CLOSE_MODAL"})}else alert("Select a Chart")},children:"Add Widget"})]})},be=n(78),pe=n.n(be),me=(n(215),function(){return Object(a.jsx)("div",{children:Object(a.jsx)("h1",{children:"ERROR"})})}),je=function(e){var t=e.modalType,n=e.modalRef,r=e.buttonRef,s=(e.onSubmitSong,e.menuType,e.songMap,e.songList,e.currentSingleSong,e.isSingle,e.onSubmitWidget,Object(i.b)());return c.a.createPortal(Object(a.jsx)(pe.a,{children:Object(a.jsx)("aside",{tag:"aside",role:"dialog",tabIndex:"-1","aria-modal":"true",className:"modal-cover",children:Object(a.jsxs)("div",{className:"modal-area",ref:n,children:[Object(a.jsxs)("button",{ref:r,"aria-label":"Close Modal","aria-labelledby":"close-modal",className:"_modal-close",onClick:function(){s({type:"CLOSE_MODAL",payload:{showModal:!1}}),document.querySelector("html").classList.toggle("scroll-lock")},children:[Object(a.jsx)("span",{id:"close-modal",className:"_hide-visual",children:"Close"}),Object(a.jsx)("svg",{className:"_modal-close-icon",viewBox:"0 0 40 40",children:Object(a.jsx)("path",{d:"M 10,10 L 30,30 M 30,10 L 10,30"})})]}),Object(a.jsx)("div",{className:"modal-body",children:"song"===t?Object(a.jsx)(ae,{}):"widget"===t?Object(a.jsx)(fe,{}):Object(a.jsx)(me,{})})]})})}),document.body)},ye=function(){var e=Object(i.c)((function(e){return e.modal})),t=e.showModal,n=e.modalType;return Object(a.jsxs)("div",{className:"main-container",children:[Object(a.jsx)(N,{}),Object(a.jsx)(E,{}),t?Object(a.jsx)(je,{modalType:n}):null]})},ge=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,229)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),s(e),c(e)}))},ve=n(17),Oe=[],xe="ADD_TO_SONG_LIST",we="REMOVE_FROM_SONG_LIST",ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case xe:return[].concat(Object(R.a)(e),Object(R.a)(a.newSongs));case we:return Object(R.a)(e).filter((function(e){return e.id!==a.id}));default:return e}},_e={mergedDashboard:{data:{},widgets:[]}},Se="ADD_TO_MAP",Ce="REMOVE_FROM_MAP",Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload,r=e;switch(n){case Se:return r[a.id]=a.dashboardData,r;case Ce:return delete r[a.id],r;default:return e}},Ae={showModal:!1,modalType:"song"},De="OPEN_MODAL",Te="CLOSE_MODAL",Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case De:return{showModal:!0,modalType:a.modalType};case Te:return Object(F.a)(Object(F.a)({},e),{},{showModal:!1});default:return e}},Le={data:{},widgets:[]},Ee="CHANGE_CURRENT_SONG",Re="AUTO_FILL",Be="CLEAR",Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Ee:case Re:return a.dashboardData;case Be:return{data:e.data,widgets:[]};default:return e}},ze=function(){var e=Object(I.a)(z.a.mark((function e(){var t;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.getToken();case 2:return t=e.sent,e.next=5,t;case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe={merge:!1},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0,n=t.type;return"TOGGLE_MERGE"===n?{merge:!e.merge}:e},Pe=Object(ve.combineReducers)({songList:ke,songIdToDashboard:Ne,modal:Me,currentSong:Ge,token:ze,dashboardState:Ie}),Ue=n(79),qe=Object(ve.createStore)(Pe,Object(Ue.composeWithDevTools)());c.a.render(Object(a.jsx)(i.a,{store:qe,children:Object(a.jsx)(ye,{})}),document.getElementById("root")),ge()},46:function(e,t,n){},86:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){},93:function(e,t,n){},95:function(e,t,n){},97:function(e,t,n){}},[[217,1,2]]]);
//# sourceMappingURL=main.b4980253.chunk.js.map